<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		#box {
			/*因为元素要运动，所以要绝对定位*/
			position: absolute;
			width: 100px;
			height: 100px;
			left: 0;
			top: 0;
			background-color: red;
		}
	</style>
</head>
<body>
	<div id="box"></div>
	<script type="text/javascript">
	// 当按下box并且拖动的时候， 让box跟随鼠标移动

	// 获取元素
	var box = document.getElementById("box");

	// 给box添加mousedown事件
	box.onmousedown = function(e) {
		// console.log(e);
		// 获取鼠标位于视口的位置
		var x = e.clientX;
		var y = e.clientY;

		// 获取元素的定位值
		var left = parseInt(getComputedStyle(box)["left"]);
		var top = parseInt(getComputedStyle(box)["top"]);
		// console.log(left);
		// console.log(top);

		// 添加鼠标移动事件
		document.onmousemove = function(e) {
			// console.log(123);
			// 获取鼠标移动后的位置
			var m_x = e.clientX;
			var m_y = e.clientY;

			// 改变box的定位值
			box.style.left = m_x - x + left +  "px";
			box.style.top = m_y - y + top + "px";
		}
	}

	// 当鼠标抬起的时候，取消mousemove事件
	document.onmouseup = function() {
		document.onmousemove = null;
	}

	</script>
</body>
</html>