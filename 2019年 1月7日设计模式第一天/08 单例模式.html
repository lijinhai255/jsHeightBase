<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script type="text/javascript">
	// 单例模式: 单个实例模式
	// 比如，在有些时候我们只需要对构造函数进行实例化一次，也就是仅仅需要创建一个实例化对象， 这个时候就要对象实例化对象的行为进行限制， 我们可以利用闭包类来实现单例模式

	// 定义一个构造函数
	// function People(name, age, sex) {
	// 	this.name = name;
	// 	this.age = age;
	// 	this.sex = sex;
	// }

	// 实例化对象
	// var p = new People("小明", 12, "男");
	// var p1 = new People("小红", 11, "女");

	// 如果将People放入全局中， 就可以被无限的初始化

	// 于是， 我们要将People放入到闭包中
	var single = (function() {
		function People(name, age, sex) {
			this.name = name;
			this.age = age;
			this.sex = sex;
		}
		// 现在将People放入到闭包中，别人就无法访问到， 所以也就无法被实例化
		// 但是，现在我们也不能实例化对象了
		// 于是，我们要向外暴露一个接口，通过该接口可以控制对People的访问
		// 用来保存单例
		var instance = null;
		return function(name, age, sex) {
			// 判断单例是否存在
			if (!instance) {
				return instance = new People(name, age, sex);
			}
			// 如果存在直接返回
			return instance;
		}
	})()
	// console.log(single)

	// 实例化对象
	var p = single("小明", 12, "男");
	var p1 = single("小红", 11, "女");
	var p2 = single("小红", 11, "女");
	</script>
</body>
</html>